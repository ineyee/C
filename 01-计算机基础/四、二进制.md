## 四、二进制

进制就是一种计数方法，计算机领域常用的进制有：

* 十进制（Decimal），十进制的计数方法就是逢十进一
* 二进制（Binary），二进制的计数方法就是逢二进一
* 十六进制（Hexadecimal），十六进制的计数方法就是逢十六进一
* 八进制（Octal），八进制的计数方法就是逢八进一

同一个数我们可以用不同的进制来表示，比如桌子上有【二十个】苹果，别人问你有几个，你可以回答：

* 用十进制来表示的话，是20个（十进制正常写就行）
* 用二进制来表示的话，是0001_0100个
* 用十六进制来表示的话，是0x14个（十六进制以0x开头）
* 用八进制来表示的话，是024个（八进制以0开头）

需要知道的是，**在代码里你看到的所有东西最终都是以二进制的形式存在的，因为计算机只认识二进制**，包括一个变量、一个函数等，至于它们是以什么样的二进制存在的，这个我们后面会一一详细学习。

#### 1、任意进制转十进制

一个R进制的数abcd.efg，转为十进制的公式为：

> (a * R^3) + (b * R^2) + (c * R^1) + (d * R^0) + (e * R^-1) + (f * R^-2) + (g * R^-3)

```c
比方说有个二进制的数1101.011要转为十进制：

(1101.011)2
= (1 * 2^3) + (1 * 2^2) + (0 * 2^1) + (1 * 2^0) + (0 * 2^-1) + (1 * 2^-2) + (1 * 2^-3)
= 8 + 4 + 0 + 1 + 0 + 0.25 + 0.125
= 13.375
```

#### 2、十进制转任意进制

一个十进制的数，转为R进制时，需将整数部分和小数部分分别转：

* 整数部分采取“除以R取余法”——即拿十进制数的整数部分一直除以R，直到商为0为止，然后把所有的余数倒序就是整数部分对应的R进制数了
* 小数部分采取“乘以R取整法”——即拿十进制数的小数部分一直乘以R，直到积的小数部分为0为止或者直到要求的精度为止 ，然后把所有的积的整数部分正序就是小数部分对应的R进制数了

```c
比方说有个十进制的数115.625要转为二进制：

115 / 2 = 57......1
57 / 2 = 28......1
28 / 2 = 14......0
14 / 2 =  7......0
7 / 2 =  3......1
3 / 2 =  1......1
1 / 2 =  0......1 ↑

0.625 * 2 = 1.25 小数部分为0.25，整数部分为1 ↓
0.25 * 2 = 0.5  小数部分为0.5，整数部分为0
0.5 * 2 = 1.0  小数部分为0，整数部分为1

因此115.625 = (111_0011.101)2
```

#### 3、二进制和十六进制、八进制互转

十六进制的1位代表4位二进制数，因此互转时可以1位到4位、4位到1位这种转法，如：

```c
(1D6.C)16 = (0001_1101_0110.1100)2
(0001_1101_0110.1100)2 = (1D6.C)16
```

八进制的1位代表3位二进制数，因此互转时可以1位到3位、3位到1位这种转法，如：

```C
(326.6)8 = (011_010_110.110)2
(11010110.11)2 = (011_010_110.110)2 = (326.6)8
```
